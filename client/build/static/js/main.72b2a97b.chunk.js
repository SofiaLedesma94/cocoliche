(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,c){"use strict";c.r(t);var a=c(5),n=c.n(a),r=c(32),o=c.n(r),s=c(11),i=c(23),l=c(9),u=c.n(l),d=c(12),j=c(20),b=c.n(j),p=c(16),m=c.n(p),h="http://localhost:4000/api",O=c(33),x={newUser:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("".concat(h,"/user/signup"),e);case 2:if((n=t.sent).data.success){t.next=5;break}return t.abrupt("return",n.data);case 5:c({type:"LOG_USER",payload:n.data});case 6:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()},loginWithGoogle:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("".concat(h,"/user/sign_google"),e);case 2:if((n=t.sent).data.success){t.next=8;break}return m.a.fire({position:"top-end",icon:"warning",title:"Something happened. Try again",showConfirmButton:!1,timer:1500}),t.abrupt("return",!1);case 8:m.a.fire({position:"top-end",icon:"success",title:"Welcome to Mytinerary",showConfirmButton:!1,timer:1500});case 9:c({type:"LOG_USER",payload:n.data});case 10:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()},loginUser:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("".concat(h,"/user/signin"),e);case 2:if((n=t.sent).data.success){t.next=5;break}return t.abrupt("return",n.data);case 5:c({type:"LOG_USER",payload:n.data.response});case 6:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()},logoutUser:function(){return function(e,t){e({type:"LOG_OUT_USER"})}},logFromLS:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.post("".concat(h,"/user/ls"),{token:e},{headers:{Authorization:"Bearer ".concat(e)}});case 3:n=t.sent,c({type:"LOG_USER",payload:n.data.response}),t.next=14;break;case 7:if(t.prev=7,t.t0=t.catch(0),console.log(t.t0),401!==t.t0.response.status){t.next=14;break}return alert("Access denied"),localStorage.clear(),t.abrupt("return","/");case 14:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,c){return t.apply(this,arguments)}}()}},g=c(62),f=c(48),v=c(13),y=c.p+"static/media/cocoliche-logo.3bf78296.png",C=c.p+"static/media/blackboard.b60c61a3.jpg",N=c(49),w=c(2),k={logoutUser:x.logoutUser},S=Object(v.b)((function(e){return{loggedUser:e.authReducer.loggedUser}}),k)((function(e){if(null===e.loggedUser)var t=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.c,{to:"/login",className:"text-decoration-none mt-2",children:Object(w.jsx)("span",{className:"h4",children:"Ingresar"})}),Object(w.jsx)(i.c,{to:"/register",className:"text-decoration-none mt-2",children:Object(w.jsx)("span",{className:"h4",children:"Registrarse"})})]});else if("admin"===e.loggedUser.role)t=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.c,{to:"/cart",className:"text-decoration-none mt-2",children:Object(w.jsxs)("div",{className:"container d-flex justify-content-between",children:[Object(w.jsx)("img",{src:e.loggedUser.urlPic,alt:"profile",className:"userImg"}),Object(w.jsxs)("span",{className:"h5",children:["Hola ",e.loggedUser.firstname]})]})}),Object(w.jsx)(i.c,{to:"/",children:Object(w.jsx)(f.a,{className:"logOut",onClick:function(){return e.logoutUser()}})}),Object(w.jsx)(i.c,{to:"/admin",className:"text-decoration-none mt-2",children:Object(w.jsx)("span",{className:"h4",children:"Administracion"})})]});else t=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(i.c,{to:"/cart",className:"text-decoration-none mt-2",children:Object(w.jsxs)("div",{className:"container d-flex justify-content-between",children:[Object(w.jsx)("img",{src:e.loggedUser.urlPic,alt:"profile",className:"userImg"}),Object(w.jsxs)("span",{className:"h5",children:["Hola ",e.loggedUser.firstname]})]})}),Object(w.jsx)(i.c,{to:"/",children:Object(w.jsx)(f.a,{className:"logOut",onClick:function(){return e.logoutUser()}})})]});return Object(w.jsxs)("div",{className:"d-flex flex-column nav-coco ",style:{backgroundImage:"url(".concat(C,")")},children:[Object(w.jsx)(i.c,{to:"/",className:"text-decoration-none",children:Object(w.jsx)("div",{className:"logo mt-4 mb-2",style:{backgroundImage:"url(".concat(y,")")}})}),Object(w.jsxs)("div",{className:"menu d-flex flex-column mx-auto",children:[t,Object(w.jsx)(i.c,{to:"/menu",className:"text-decoration-none mt-2",children:Object(w.jsx)("span",{className:"h4",children:"Men\xfa"})}),Object(w.jsxs)(i.c,{to:"/cart",className:"text-decoration-none mt-2 d-flex",children:[Object(w.jsx)("span",{className:"h4 d-flex align-items-center",children:"Mi pedido"})," ",Object(w.jsx)(g.a,{className:"cartIcono"})]}),Object(w.jsx)(i.c,{to:"/calendar",className:"text-decoration-none mt-2",children:Object(w.jsx)("span",{className:"h4",children:"Eventos"})}),Object(w.jsx)(i.c,{to:"/contact",className:"text-decoration-none mt-2",children:Object(w.jsx)("span",{className:"h4",children:"Contacto"})}),Object(w.jsx)(i.c,{className:"text-decoration-none mt-2",to:"/reservation",children:Object(w.jsx)("span",{className:"h4",children:"HACER UNA RESERVA"})}),Object(w.jsxs)("div",{className:"mt-3 d-flex justify-content-around",children:[Object(w.jsx)(i.b,{children:Object(w.jsx)("p",{children:Object(w.jsx)(N.a,{className:"rd"})})}),Object(w.jsx)(i.b,{children:Object(w.jsx)("p",{children:Object(w.jsx)(N.b,{className:"rd"})})})]})]})]})})),E=c.p+"static/media/banner_1.8981cd7a.jpg",P=c.p+"static/media/banner_2.99746625.jpg",R=c.p+"static/media/banner_3.2f49f15b.jpg",I=c.p+"static/media/banner_4.e3cb7c5d.jpg",U=function(){return Object(w.jsx)("div",{className:"container-fluid",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-2 col-xl-2 p-0",children:Object(w.jsx)(S,{})}),Object(w.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-10 col-xl-10 bg-primary",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-sm-12 col-md-5 col-lg-5 banner-lg-home",style:{backgroundImage:"url(".concat(E,")")}}),Object(w.jsx)("div",{className:"col-sm-12 col-md-7 col-lg-7",children:Object(w.jsxs)("div",{className:"container-fluid p-0",children:[Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-12 banner-md-home",style:{backgroundImage:"url(".concat(P,")")}})}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-12  banner-sm-home",style:{backgroundImage:"url(".concat(R,")")}})}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-12 banner-sm-home",style:{backgroundImage:"url(".concat(I,")")}})})]})})]})})]})})},_=(c(59),c(69)),T=c(70),A=c(71),D={newEvent:function(e,t,c){return console.log(e,t),function(){var a=Object(d.a)(u.a.mark((function a(n,r){var o,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,(o=new FormData).append("title",e.title),o.append("description",e.description),o.append("category",e.category),o.append("dateEvent",e.date),o.append("file",t.result),a.next=9,b.a.post("".concat(h,"/events"),o,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/formdata"}});case 9:if((s=a.sent).data.success){a.next=12;break}return a.abrupt("return",s.data);case 12:n({type:"ADD_EVENT",payload:s.data.response}),console.log(s),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),m.a.fire(a.t0);case 19:case"end":return a.stop()}}),a,null,[[0,16]])})));return function(e,t){return a.apply(this,arguments)}}()},getEvents:function(){return function(){var e=Object(d.a)(u.a.mark((function e(t,c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h,"/events"));case 3:a=e.sent,t({type:"GET_EVENTS",payload:a.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m.a.fire(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c){return e.apply(this,arguments)}}()},editEvent:function(e){console.log(e);try{var t=e.title,c=e.description,a=e.date,n=e.id,r=e.compressedFile,o=new FormData;return o.append("title",t),o.append("description",c),o.append("id",n),o.append("date",a),r&&o.append("file",r.result),function(){var e=Object(d.a)(u.a.mark((function e(t,c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(h,"/events"),o);case 2:a=e.sent,t({type:"UPDATE_POST",payload:a.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}catch(s){m.a.fire(s)}},deleteEvent:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("".concat(h,"/events/delete/").concat(e));case 2:n=t.sent,c({type:"DELETE_EVENT",payload:n.data.response});case 4:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}},F=c(72),L={getEvents:D.getEvents},V=Object(v.b)((function(e){return{events:e.eventR.events,loggedUser:e.authReducer.loggedUser}}),L)((function(e){var t=Object(a.useState)([]),c=Object(s.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)(""),i=Object(s.a)(o,2),l=(i[0],i[1],e.getEvents);Object(a.useEffect)((function(){console.log(e.events),l(),r(e.events)}),[l,n]);var u=n.map((function(e){return{id:e._id,title:e.title,start:e.dateEvent,picture:e.picture}}));return Object(w.jsx)("div",{className:"container-fluid background",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-2 position-sticky nav-coco",style:{backgroundImage:"url(".concat(C,")")},children:Object(w.jsx)(S,{})}),Object(w.jsx)("div",{className:"trasparent p-4 m-auto col-sm-12 col-md-7 col-lg-10 col-xl-10",children:Object(w.jsx)(_.a,{plugins:[A.a,T.a,F.a],locale:"es-ES",themeSystem:"bootstrap",customButtons:{myCustomButton:{icon:"fa-times",text:"Ver eventos",click:function(){m.a.fire({html:u.map((function(e){return'<div class="card bg-dark text-white">'+'<img class="card-img" src='.concat(e.picture,' alt="Card image"/> ')+'<div class="card-img-overlay">'+'<h5 class="card-title">'.concat(e.title,"</h5>")+'<p class="card-text"></p>'+'<p class="card-text">'.concat(e.start,"</p>")+"</div></div>"}))})}}},headerToolbar:{end:"myCustomButton"},selectable:!0,events:u,dayMaxEvents:!0,dateClick:function(t){n.map((function(c){c.dateEvent===t.dateStr&&m.a.fire({title:c.title,text:"",imageUrl:c.picture,imageWidth:400,imageHeight:200,imageAlt:"Custom image",showCancelButton:!0,confirmButtonText:"Pedir reserva",cancelButtonText:"Cerrar",reverseButtons:!0}).then((function(t){t.isConfirmed&&(e.loggedUser?m.a.fire({html:'<span>Cantidada de sillas a reservar</span><input type="number" id="swal-input2" class="swal2-input">',showCancelButton:!0,cancelButtonText:"Holaa"}).then((function(e){""!==e.value?m.a.fire({icon:"success",title:"Recibira un mail con la confirmacion"}):m.a.fire({icon:"error",title:"No puso cantidad de personas"})})):m.a.fire({icon:"error",title:"Debe registrarse primero",footer:'<div class="d-flex align-items-center"><p>tienes cuenta?</p></div><div class="d-block"><button class="btn btn-primary">Registrarse</button></div>'}))}))}))},contentHeight:500})})]})})})),G={addToCart:function(e){try{return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a().cartReducer.cart.slice(),r=a().cartReducer.cart.slice(),-1!==n.findIndex((function(t){return t.subcategory.subcategoryId===e.subcategory.subcategoryId}))?r=n.map((function(t){return t.subcategory.subcategoryId===e.subcategory.subcategoryId?e:t})):r.push(e),c({type:"ADD_TO_CART",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}catch(t){console.log(t)}},localStorageCart:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c({type:"ADD_FROM_LS",payload:e})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()},removeProduct:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=a().cartReducer.cart.filter((function(t){return t.subcategory.subcategoryId!==e})),c({type:"REMOVE_FROM_CART",payload:n})}catch(r){console.log(r)}case 1:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()},modifyQuantity:function(e,t){return function(c,a){var n=a().cartReducer.cart.slice(),r=n.find((function(e){return e.subcategory.subcategoryId===t}));r.subcategory.qty=e;var o=n.findIndex((function(e){return e.subcategory.subcategoryId===t}));n.splice(o,1,r),c({type:"MODIFY_QTY",payload:n})}},confirmPurchase:function(e){var t=e.token,c=e.cart;return function(){var e=Object(d.a)(u.a.mark((function e(a,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(h,"/purchases"),c,{headers:{Authorization:"Bearer ".concat(t)}});case 2:r=e.sent,console.log(r),a({type:"CONFIRM_PURCHASE",payload:r.data});case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},getCart:function(){return function(){var e=Object(d.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"GET_CART",payload:""});case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}},B=c(40),M={modifyQuantity:G.modifyQuantity,removeProduct:G.removeProduct},q=Object(v.b)(null,M)((function(e){var t=Object(a.useState)(!1),c=Object(s.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)(),i=Object(s.a)(o,2),l=i[0],u=i[1];console.log(e);var d=1;return Object(w.jsxs)("div",{children:[Object(w.jsxs)("h2",{children:[e.props.name," ",e.props.subcategory.subcategory]}),Object(w.jsx)("img",{src:"".concat(e.props.picture),style:{width:"100px",height:"100px"},alt:"producto"}),Object(w.jsxs)("h3",{children:["Subtotal: ",e.props.subcategory.price*e.props.subcategory.qty]}),Object(w.jsx)("h3",{children:"Cantidad "}),n?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("select",{name:"quantity",onChange:function(e){u(e.target.value)},defaultValue:"default",children:[Object(w.jsx)("option",{value:"default",children:"-"}),Object(B.a)(Array(e.props.subcategory.stock)).map((function(){return Object(w.jsx)("option",{children:d++})}))]}),Object(w.jsx)("button",{onClick:function(){e.modifyQuantity(l,e.props.subcategory.subcategoryId)},children:"Confirmar"})]}):Object(w.jsx)("h3",{children:e.props.subcategory.qty}),Object(w.jsx)("button",{onClick:function(){return e.removeProduct(e.props.subcategory.subcategoryId)},children:"X"}),Object(w.jsx)("button",{onClick:function(){return r(!n)},children:"Modificar"})]})})),H={localStorageCart:G.localStorageCart,confirmPurchase:G.confirmPurchase},z=Object(v.b)((function(e){return{cart:e.cartReducer.cart,loggedUser:e.authReducer.loggedUser}}),H)((function(e){Object(a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("cart"));e.localStorageCart(t)}),[]);return console.log(e),Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Cart"}),e.cart&&e.cart.map((function(e){return Object(w.jsx)(q,{props:e})})),Object(w.jsx)("button",{onClick:function(){e.confirmPurchase({cart:e.cart,token:e.loggedUser.token})},children:"Confirmar Compra"})]})})),J=c(109),Y=c(110),W=function(){return Object(w.jsx)("div",{className:"container-fluid",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-2 position-sticky nav-coco",style:{backgroundImage:"url(".concat(C,")")},children:Object(w.jsx)(S,{})}),Object(w.jsxs)("div",{className:"col-sm-12 col-md-5 col-lg-5 col-xl-10  mx-auto my-auto d-flex justify-content-around text-center",children:[Object(w.jsx)("div",{className:"formulario col-xl-5 col-lg-10 col-md-10 col-sm-12 mr-1 trasparent",children:Object(w.jsxs)(J.a,{children:[Object(w.jsxs)(J.a.Group,{className:"mt-3",md:"6",controlId:"validationCustom03",children:[Object(w.jsx)(J.a.Label,{children:"Nombre y Apellido"}),Object(w.jsx)(J.a.Control,{type:"text",required:!0}),Object(w.jsx)(J.a.Control.Feedback,{type:"invalid",children:"Please provide a valid city."})]}),Object(w.jsxs)(J.a.Group,{md:"6",controlId:"validationCustom03",children:[Object(w.jsx)(J.a.Label,{children:"Email"}),Object(w.jsx)(J.a.Control,{type:"text",required:!0}),Object(w.jsx)(J.a.Control.Feedback,{type:"invalid",children:"Please provide a valid city."})]}),Object(w.jsxs)(J.a.Group,{md:"6",controlId:"validationCustom03",children:[Object(w.jsx)(J.a.Label,{children:"telefono"}),Object(w.jsx)(J.a.Control,{type:"number",required:!0}),Object(w.jsx)(J.a.Control.Feedback,{type:"invalid",children:"Please provide a valid city."})]}),Object(w.jsxs)(J.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(w.jsx)(J.a.Label,{children:"Motivo de consulta"}),Object(w.jsxs)(J.a.Control,{as:"select",placeholder:"Selecionar",children:[Object(w.jsx)("option",{children:"ventas"}),Object(w.jsx)("option",{children:"recusos humanos"}),Object(w.jsx)("option",{children:"atencion al cliente"}),Object(w.jsx)("option",{children:"reclamos de calidad"})]})]}),Object(w.jsxs)(J.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(w.jsx)(J.a.Label,{children:"Mensaje"}),Object(w.jsx)(J.a.Control,{as:"textarea",rows:3,style:{resize:"none"}})]}),Object(w.jsx)(Y.a,{className:"mb-3",variant:"primary",type:"submit",children:"Enviar"})]})}),Object(w.jsxs)("div",{className:"datos trasparent col-xl-5 col-lg-10 col-md-8 col-sm-12",style:{height:"50%"},children:[Object(w.jsx)("h4",{className:"mt-3",children:"Administracion"}),Object(w.jsx)("p",{children:"12 de Octubre 7749. Mar del Plata. Provincia de Buenos Aires. Argentina."}),Object(w.jsx)("h4",{className:"mt-3",children:"Tel\xe9fonos"}),Object(w.jsx)("p",{children:"0223 481 8202 / 410 9133 / 410 9169 / 4644812"}),Object(w.jsx)("h4",{className:"mt-3",children:"E-mail"}),Object(w.jsx)("p",{children:"contactos@cocoliche.com"})]})]})]})})},Q=c(19),K=c(6),X={loginUser:x.loginUser,loginWithGoogle:x.loginWithGoogle},Z=Object(v.b)(null,X)((function(e){var t=Object(a.useState)({username:"",password:""}),c=Object(s.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)([]),i=Object(s.a)(o,2),l=i[0],j=i[1],b=function(e){var t=e.target.value,c=e.target.name;r(Object(K.a)(Object(K.a)({},n),{},Object(Q.a)({},c,t)))},p=function(){var t=Object(d.a)(u.a.mark((function t(c){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),""!==n.username&&""!==n.password){t.next=4;break}return alert("fill in all fields"),t.abrupt("return",!1);case 4:return t.next=6,e.loginUser(n);case 6:(a=t.sent)&&!a.success&&j(a.respuesta);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(d.a)(u.a.mark((function t(c){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new O.a.auth.GoogleAuthProvider,t.next=3,O.a.auth().signInWithPopup(a);case 3:n=t.sent,e.loginWithGoogle(n.user);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"container-fluid",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-2 position-sticky nav-coco",style:{backgroundImage:"url(".concat(C,")")},children:Object(w.jsx)(S,{})}),Object(w.jsxs)("div",{className:"trasparent col-sm-12 col-md-5 col-lg-5 col-xl-5 mx-auto my-auto d-flex flex-column text-center border ",children:[Object(w.jsx)("span",{className:"h1",children:"Ingresar"}),Object(w.jsx)("input",{className:"text-center h3",placeholder:"Ingresa tu email",name:"username",onChange:b}),Object(w.jsx)("input",{className:"text-center my-4 h3",placeholder:"Ingresa tu contrase\xf1a",type:"password",name:"password",onChange:b}),Object(w.jsx)("button",{onClick:p,className:"h3",children:"Ingresar"}),Object(w.jsx)("label",{children:l}),Object(w.jsx)("button",{onClick:m,children:"Ingresar con otros m\xe9todos"})]})]})})})),$=c(63),ee=c.n($),te={newUser:x.newUser},ce=Object(v.b)((function(e){return{loggedUser:e.authReducer.loggedUser}}),te)((function(e){var t=Object(a.useState)({username:"",password:"",firstname:"",lastname:"",urlPic:""}),c=Object(s.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)([]),i=Object(s.a)(o,2),l=i[0],j=i[1],b=function(e){var t=e.target.value,c=e.target.name;r(Object(K.a)(Object(K.a)({},n),{},Object(Q.a)({},c,t)))},p=function(){var t=Object(d.a)(u.a.mark((function t(c){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),""!==n.username&&""!==n.password&&""!==n.firstname&&""!==n.lastname&&""!==n.urlPic){t.next=4;break}return alert("fill in all fields"),t.abrupt("return",!1);case 4:return t.next=6,e.newUser(n);case 6:(a=t.sent)&&!a.success&&j(a.response.details);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(d.a)(u.a.mark((function t(c){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.error){t.next=4;break}alert("invalid account"),t.next=8;break;case 4:return t.next=6,e.newUser({username:c.profileObj.email,urlPic:c.profileObj.imageUrl,password:c.profileObj.googleId,firstname:c.profileObj.givenName,lastname:c.profileObj.familyName});case 6:(a=t.sent)&&!a.success&&j(a.respuesta);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"container-fluid",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-2 position-sticky nav-coco",style:{backgroundImage:"url(".concat(C,")")},children:Object(w.jsx)(S,{})}),Object(w.jsxs)("div",{className:"trasparent col-sm-12 col-md-5 col-lg-5 col-xl-5 mx-auto my-auto d-flex flex-column text-center border ",children:[Object(w.jsx)("h1",{children:"Registrate"}),Object(w.jsx)("input",{className:"text-center my-4 h3",placeholder:"Ingresa tu Nombre",name:"firstname",onChange:b}),Object(w.jsx)("input",{className:"text-center h3",placeholder:"Ingresa tu Apellido",name:"lastname",onChange:b}),Object(w.jsx)("input",{className:"text-center my-4 h3",placeholder:"Ingresa tu Email",name:"username",onChange:b}),Object(w.jsx)("input",{className:"text-center h3",placeholder:"write your password",type:"password",name:"password",onChange:b}),Object(w.jsx)("input",{className:"text-center my-4 h3",placeholder:"Sube una foto de Perfil!",name:"urlPic",onChange:b}),Object(w.jsx)("button",{onClick:p,className:"h3",children:"Crear Cuenta"}),Object(w.jsx)(ee.a,{clientId:"581401226209-scr1fncegbbivf7eds0g088i1ks51ihh.apps.googleusercontent.com",buttonText:"Crear Account with Google",onSuccess:m,onFailure:m,cookiePolicy:"single_host_origin"}),l.map((function(e){return Object(w.jsx)("label",{children:e.message})}))]})]})})})),ae={addToCart:G.addToCart},ne=Object(v.b)(null,ae)((function(e){var t=Object(a.useState)({picture:e.picture,productId:e.sub._id,name:e.sub.subcategory}),c=Object(s.a)(t,2),n=c[0],r=c[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:e.sub.subcategory}),Object(w.jsx)("h3",{children:e.sub.subcategoryPrice}),Object(w.jsx)("select",{name:"subcategory",onChange:function(t){var c,a=t.target,o=a.name,s=a.value,i=JSON.parse(s);r(Object(K.a)(Object(K.a)({},n),{},(c={},Object(Q.a)(c,o,i),Object(Q.a)(c,"name",e.name),c)))},defaultValue:"default",children:Object(w.jsx)("option",{value:"default",children:"Elegi cantidad"})}),Object(w.jsx)("button",{onClick:function(){e.addToCart(n)},children:"Agregar"})]})})),re=function(e){return Object(w.jsx)("div",{children:Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{children:e.product.name}),Object(w.jsx)("img",{src:"".concat(e.product.picture),alt:"Comida",style:{width:"200px"}}),e.product.subcategories.map((function(t){return Object(w.jsx)(ne,{sub:t,picture:e.product.picture,name:e.product.name})})),Object(w.jsx)("p",{children:e.product.description}),Object(w.jsxs)("h4",{children:[e.product.rating.length,"\u2b50"]})]})})},oe={getProducts:function(){return function(){var e=Object(d.a)(u.a.mark((function e(t,c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h,"/products"));case 3:a=e.sent,t({type:"GET_PRODUCTS",payload:a.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c){return e.apply(this,arguments)}}()},addProduct:function(e,t){try{var c=e.name,a=e.description,n=e.category,r=e.subcategories,o=e.delay,s=new FormData;return s.append("name",c),s.append("description",a),s.append("category",n),s.append("subcategories",JSON.stringify(r)),s.append("delay",o),s.append("file",t.result),function(){var e=Object(d.a)(u.a.mark((function e(t,c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(h,"/products"),s);case 2:a=e.sent,t({type:"RERENDER",payload:a.data.response});case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}catch(i){console.log(i)}},deleteProduct:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.delete("".concat(h,"/product/").concat(e));case 3:n=t.sent,c({type:"GET_PRODUCTS",payload:n.data.response}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,c){return t.apply(this,arguments)}}()},editProduct:function(e,t){var c=e.name,a=e.price,n=e.description,r=e.idCategory,o=e.delay,s=e.stock,i=e.id,l=new FormData;return l.append("name",c),l.append("price",a),l.append("description",n),l.append("idCategory",r),l.append("delay",o),l.append("stock",s),t&&l.append("file",t.result),l.append("id",i),function(){var e=Object(d.a)(u.a.mark((function e(t,c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.put("".concat(h,"/products"),l);case 3:a=e.sent,t({type:"RERENDER",payload:a.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c){return e.apply(this,arguments)}}()},createCategory:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=b.a.post("".concat(h,"/category"),{category:e}),c({type:"RERENDER",payload:n.data.response})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()},getCategories:function(){return function(){var e=Object(d.a)(u.a.mark((function e(t,c){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("".concat(h,"/category"));case 3:a=e.sent,t({type:"ALL_CATEGORIES",payload:a.data.response}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c){return e.apply(this,arguments)}}()},addSubcategories:function(e,t){return function(){var c=Object(d.a)(u.a.mark((function c(a,n){var r;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,b.a.post("".concat(h,"/product/subcategory"),{subcategories:e,productId:t});case 3:r=c.sent,a({type:"ADD_SUBCATEGORY",payload:r.data}),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),console.log(c.t0);case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e,t){return c.apply(this,arguments)}}()},deleteSubcategory:function(e,t){return function(){var c=Object(d.a)(u.a.mark((function c(a,n){var r;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,b.a.delete("".concat(h,"/product/subcategory/delete/").concat(e,"/").concat(t));case 3:r=c.sent,a({type:"DELETE_SUB",payload:r.data}),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),console.log(c.t0);case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e,t){return c.apply(this,arguments)}}()},editSubcategory:function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c,a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.put("".concat(h,"/product/subcategory/"),e);case 3:n=t.sent,c({type:"EDIT_SUBCATEGORY",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,c){return t.apply(this,arguments)}}()}},se={getCart:G.getCart,getProducts:oe.getProducts},ie=Object(v.b)((function(e){return{allProducts:e.productR.allProducts}}),se)((function(e){var t=e.getProducts;return Object(a.useEffect)((function(){t(),e.getCart()}),[t]),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Filtros"}),Object(w.jsxs)("select",{children:[Object(w.jsx)("option",{children:"Precio ascendente"}),Object(w.jsx)("option",{children:"Precio descendente"}),Object(w.jsx)("option",{children:"Popularidad"})]})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Menu"}),e.allProducts.map((function(e){return Object(w.jsx)(re,{product:e},e._id)}))]})]})})),le=function(){return Object(w.jsx)("div",{children:Object(w.jsx)("h2",{children:"Profile"})})},ue=c(64),de=c(65),je=c(73),be=c(68),pe=c(22),me=function(e){Object(je.a)(c,e);var t=Object(be.a)(c);function c(){return Object(ue.a)(this,c),t.apply(this,arguments)}return Object(de.a)(c,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),c}(n.a.Component),he=Object(pe.g)(me),Oe=c(30),xe=c.n(Oe),ge=c(66),fe={deleteSubcategory:oe.deleteSubcategory,editSubcategory:oe.editSubcategory},ve=Object(v.b)(null,fe)((function(e){var t=Object(a.useState)(!1),c=Object(s.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)({subcategory:e.subcategory.subcategory,subcategoryPrice:e.subcategory.subcategoryPrice,subcategoryStock:e.subcategory.subcategoryStock}),i=Object(s.a)(o,2),l=i[0],u=i[1],d=function(t){var c,a=t.target,n=a.name,r=a.value;u(Object(K.a)(Object(K.a)({},l),{},(c={},Object(Q.a)(c,n,r),Object(Q.a)(c,"productId",e.productId),Object(Q.a)(c,"subcategoryId",e.subcategory._id),c)))};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("tr",{children:[n?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("td",{children:Object(w.jsx)("input",{name:"subcategory",defaultValue:e.subcategory.subcategory,onChange:d})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{name:"subcategoryPrice",defaultValue:e.subcategory.subcategoryPrice,onChange:d})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{name:"subcategoryStock",defaultValue:e.subcategory.subcategoryStock,onChange:d})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{onClick:function(){e.editSubcategory(l)},children:"Confirmar"}),Object(w.jsx)("button",{onClick:function(){return r(!n)},children:"Cancelar"})]})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("td",{children:e.subcategory.subcategory}),Object(w.jsx)("td",{children:e.subcategory.subcategoryPrice}),Object(w.jsx)("td",{children:e.subcategory.subcategoryStock})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{onClick:function(){return r(!n)},children:"Editar"}),Object(w.jsx)("button",{onClick:function(){e.deleteSubcategory(e.productId,e.subcategory._id)},children:"Eliminar"})]})]})})})),ye={getProducts:oe.getProducts,deleteProduct:oe.deleteProduct,editProduct:oe.editProduct,addSubcategories:oe.addSubcategories},Ce=Object(v.b)(null,ye)((function(e){var t=Object(a.useState)(!1),c=Object(s.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)({name:e.product.name,price:e.product.price,category:e.product.category,delay:e.product.delay,stock:e.product.stock,description:e.product.description,picture:e.product.picture,id:e.product._id}),j=Object(s.a)(d,2),b=j[0],p=j[1],h=Object(a.useState)("/assets/losago.png"),O=Object(s.a)(h,2),x=O[0],g=O[1],f=Object(a.useState)(),v=Object(s.a)(f,2),y=v[0],C=v[1],N=Object(a.useState)({}),k=Object(s.a)(N,2),S=k[0],E=(k[1],Object(a.useState)([])),P=Object(s.a)(E,2),R=P[0],I=(P[1],Object(a.useState)({})),U=Object(s.a)(I,2),_=U[0],T=U[1];Object(a.useEffect)((function(){e.getProducts()}),[]);var A=function(e){var t=e.target,c=t.name,a=t.value;p(Object(K.a)(Object(K.a)({},b),{},Object(Q.a)({},c,a)))},D=function(e){var t=e.target,c=t.name,a=t.value;T(Object(K.a)(Object(K.a)({},_),{},Object(Q.a)({},c,a)))};return Object(w.jsxs)(w.Fragment,{children:[n?Object(w.jsxs)(w.Fragment,{children:[" ",Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"text",name:"subcategory",onChange:A,defaultValue:e.product.name})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"subcategoryPrice",name:"category",onChange:A,defaultValue:e.product.category})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"text",name:"description",onChange:A,defaultValue:e.product.description})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"text",name:"delay",onChange:A,defaultValue:e.product.delay})}),Object(w.jsxs)("td",{children:[Object(w.jsx)("img",{src:"".concat(b.file),style:{width:"100px",height:"100px"},alt:"a"}),Object(w.jsx)("img",{src:"".concat(x),style:{width:"100px",height:"100px"},alt:"a"}),Object(w.jsx)("input",{type:"file",name:"picture",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var c=new xe.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){g(t.result)}}});C(c)}else a="error",n="Something went wrong!",r="Files must be of an image type",m.a.fire({icon:a,title:n,text:r,confirmButtonText:"Ok"})}var a,n,r}})]}),Object(w.jsx)("button",{onClick:function(){return function(){var t=y||e.product.picture;e.editProduct(b,t),r(!n)}()},children:"ENVIAR"}),Object(w.jsx)("button",{onClick:function(){return r(!n)},children:"CANCELAR"})]}):Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:e.product.name}),Object(w.jsx)("td",{children:e.product.category}),Object(w.jsx)("td",{children:e.product.description}),Object(w.jsx)("td",{children:e.product.delay}),Object(w.jsx)("td",{children:Object(w.jsx)("img",{src:"".concat(e.product.picture),style:{width:"100px",height:"100px"},alt:"Product"})}),Object(w.jsx)("td",{children:Object(w.jsx)("button",{onClick:function(){return r(!n)},children:"Editar"})}),Object(w.jsx)("td",{children:Object(w.jsx)("button",{onClick:function(t){return e.remove(t,e.product._id)},children:"Borrar"})})]})}),l?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("tr",{children:e.product.subcategories.map((function(t){return Object(w.jsx)(ve,{subcategory:t,productId:e.product._id})}))}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"text",name:"subcategory",onChange:D,placeholder:"Nombre de la subcategoria"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"number",name:"subcategoryPrice",onChange:D,placeholder:"Precio"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"number",name:"subcategoryStock",onChange:D,placeholder:"Stock disponible"})}),Object(w.jsx)("button",{onClick:function(){e.addSubcategories(_,e.product._id)},children:"Agregar Subcategoria"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"text",name:"subcategory",placeholder:"Nombre de subcategoria"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"number",name:"subcategoryPrice",placeholder:"Precio"})}),Object(w.jsx)("td",{children:Object(w.jsx)("input",{type:"number",name:"subcategoryStock",placeholder:"Stock"})}),Object(w.jsx)("td",{children:Object(w.jsx)("button",{onClick:function(){u(!l),R.push(S)},children:"A\xf1adir subcategor\xeda"})})]}),Object(w.jsx)("tr",{children:Object(w.jsx)("th",{children:Object(w.jsx)("button",{onClick:function(){u(!l)},children:"Ver subcategorias"})})})]})})),Ne={deleteEvent:D.deleteEvent,editEvent:D.editEvent},we=Object(v.b)(null,Ne)((function(e){var t=e.title,c=e.picture,n=e.description,r=e.id,o=e.editEvent,i=e.deleteEvent,l=e.date,u=Object(a.useState)(),d=Object(s.a)(u,2),j=d[0],b=d[1],m=Object(a.useState)("/assets/upload.png"),h=Object(s.a)(m,2),O=h[0],x=h[1],g=Object(a.useState)(!1),f=Object(s.a)(g,2),v=f[0],y=f[1],C=Object(a.useState)({title:t,picture:c,description:n,date:l,id:r}),N=Object(s.a)(C,2),k=N[0],S=N[1];console.log(k);var E=function(e){var t=e.target.name,c=e.target.value;S(Object(K.a)(Object(K.a)({},k),{},Object(Q.a)({},t,c)))};return Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:t}),Object(w.jsx)("div",{style:{backgroundImage:"url(".concat(c,")"),width:"30vw",height:"30vh",backgroundPosition:"center",backgroundSize:"cover"}}),Object(w.jsx)("button",{id:r,onClick:function(e){e.preventDefault(),i(e.target.id)},children:"DELETE"}),Object(w.jsx)("button",{id:r,onClick:function(){return y(!v)},children:"EDIT"}),Object(w.jsx)("div",{children:v&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("input",{defaultValue:n,onChange:E,name:"description",type:"text"}),Object(w.jsx)("input",{defaultValue:t,onChange:E,name:"title",type:"text",placeholder:"Editar t\xedtulo del evento"}),Object(w.jsx)("input",{defaultValue:l,onChange:E,name:"date",type:"date",placeholder:"Editar fecha del evento"}),Object(w.jsx)("label",{htmlFor:"file",children:Object(w.jsx)("img",{style:{margin:"0"},className:"img-fluid profile-pic-profile-submit",src:O,alt:"event-pic"})}),Object(w.jsx)("input",{style:{display:"none"},id:"file",name:"picture",type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var c=new xe.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){x(t.result)}}});b(c),S(Object(K.a)(Object(K.a)({},k),{},{compressedFile:c}))}else p.Swal.fire("error","Something went wrong!","Files must be of an image type")}}}),Object(w.jsx)("button",{id:r,onClick:function(e){e.preventDefault(),o(k,j),y(!v),x(""),b("")},children:"CONFIRM"})]})})]})})),ke={newEvent:D.newEvent},Se=Object(v.b)((function(e){return{allEvents:e.eventR.events}}),ke)((function(e){var t=Object(a.useState)(),c=Object(s.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)("/assets/upload.png"),i=Object(s.a)(o,2),l=i[0],u=i[1],d=function(e,t,c){m.a.fire({icon:e,title:t,text:c,confirmButtonText:"Ok"})},j=Object(a.useState)({}),b=Object(s.a)(j,2),p=b[0],h=b[1],O=function(e){var t=e.target.name,c=e.target.value;h(Object(K.a)(Object(K.a)({},p),{},Object(Q.a)({},t,c)))};return Object(w.jsxs)("div",{className:"d-flex flex-column mx-auto",children:[Object(w.jsx)("span",{className:"h1",children:"Crear Evento"}),Object(w.jsx)("input",{type:"text",name:"title",onChange:O,placeholder:"Titulo del evento"}),Object(w.jsx)("input",{type:"date",name:"date",onChange:O,placeholder:"Fecha del evento"}),Object(w.jsx)("input",{type:"text",name:"description",onChange:O,placeholder:"Descripci\xf3n"}),Object(w.jsx)("label",{htmlFor:"inputUpload",children:Object(w.jsx)("img",{style:{margin:"0"},className:"img-fluid profile-pic-profile-submit",src:l,alt:"event-pic"})}),Object(w.jsx)("input",{id:"inputUpload",name:"picture",type:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var c=new xe.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){u(t.result)}}});r(c)}else d("error","Something went wrong")}else d("error","Petition must have a picture")}}),Object(w.jsx)("span",{onChange:O,children:Object(w.jsxs)("select",{name:"category",id:"categoria",children:[Object(w.jsx)("option",{disabled:!0,children:"--"}),Object(w.jsx)("option",{value:"Comida",children:"Comida"}),Object(w.jsx)("option",{value:"Bebida",children:"Bebida"}),Object(w.jsx)("option",{value:"Cantante",children:"Cantante"}),Object(w.jsx)("option",{value:"Comedia",children:"Comedia"})]})}),Object(w.jsx)("button",{onClick:function(t){return t.preventDefault(),t.stopPropagation(),void 0===p.length&&void 0===n?(d("error","All fields are required"),!1):p.description&&p.date&&p.title?(e.newEvent(p,n),u(""),void r("")):(d("error","All fields are required"),!1)},children:"Enviar"}),Object(w.jsx)("h3",{children:"Lista de pr\xf3ximos eventos"}),Object(w.jsx)("div",{children:e.allEvents.map((function(e){var t=e.title,c=e._id,a=e.picture,n=e.description,r=e.date;return Object(w.jsx)("span",{children:Object(w.jsx)(we,{title:t,picture:a,id:c,description:n,date:r})},c)}))})]})})),Ee=c.p+"static/media/agregar-producto.3dad9d58.jpg",Pe={addProduct:oe.addProduct,getProducts:oe.getProducts,deleteProduct:oe.deleteProduct,createCategory:oe.createCategory,getCategories:oe.getCategories},Re=Object(v.b)((function(e){return{allProducts:e.productR.allProducts,allCategories:e.productR.allCategories}}),Pe)((function(e){var t=Object(a.useState)({}),c=Object(s.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)(Ee),i=Object(s.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)(),j=Object(s.a)(d,2),b=j[0],p=j[1],h=Object(a.useState)([]),O=Object(s.a)(h,2),x=O[0],g=O[1],f=Object(a.useState)({}),v=Object(s.a)(f,2),y=(v[0],v[1],Object(a.useState)("")),C=Object(s.a)(y,2),N=(C[0],C[1]),k=e.allProducts,E=e.getProducts,P=e.getCategories;Object(a.useEffect)((function(){E(),P()}),[E,P]),Object(a.useEffect)((function(){g(k)}),[k]);var R=function(e){var t=e.target,c=t.name,a=t.value;r(Object(K.a)(Object(K.a)({},n),{},Object(Q.a)({},c,a))),console.log(n)},I=function(t,c){t.preventDefault(),t.stopPropagation(),e.deleteProduct(c)};return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"container-fluid",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-2 p-0",children:Object(w.jsx)(S,{})}),Object(w.jsxs)("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10 mt-5",children:[Object(w.jsx)("div",{className:"row",children:Object(w.jsxs)("div",{className:"col-sm-12 col-md-8 col-lg-8 d-flex flex-column mx-auto",children:[Object(w.jsx)("span",{className:"h3",children:"Crear una nueva Categor\xeda de Productos"}),Object(w.jsx)("input",{className:"my-3 h5 pl-3",type:"text",name:"category",placeholder:"Crear categoria",onChange:function(e){var t=e.target.value;N(t)}})]})}),Object(w.jsx)("hr",{}),Object(w.jsx)("div",{className:"row",children:Object(w.jsxs)("div",{className:"col-sm-12 col-md-8 col-lg-8 d-flex flex-column mx-auto",children:[Object(w.jsx)("span",{className:"h3",children:"Cargar un nuevo Producto"}),Object(w.jsx)("input",{className:"h5 pl-3",type:"text",name:"name",placeholder:"Nombre del producto",onChange:R}),Object(w.jsx)("input",{className:"d-none",type:"file",id:"productPicture",name:"file",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];if(t.type.includes("image")){var c=new xe.a(t,{quality:.5,success:function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){u(t.result)}}});p(c)}else a="error",n="Something went wrong!",r="Files must be of an image type",m.a.fire({icon:a,title:n,text:r,confirmButtonText:"Ok"})}var a,n,r}}),Object(w.jsxs)("label",{htmlFor:"productPicture",className:"text-center d-flex flex-column align-items-center",children:[Object(w.jsx)("span",{className:"h4",children:"Cargar imagen del Producto"}),Object(w.jsx)("span",{className:"h6",children:"Tama\xf1o recomendado 200px * 200px"}),Object(w.jsx)("img",{className:"img-prev",src:l,alt:"Producto"})]}),e.allCategories.length&&Object(w.jsxs)("select",{className:"my-2 h5 p-1",defaultValue:"default",onChange:R,name:"category",children:[Object(w.jsx)("option",{value:"default",disabled:!0,children:"Seleccione la Categoria del Producto"}),e.allCategories.map((function(e){return Object(w.jsx)("option",{value:e.category,name:"category",children:e.category},e.category)}))]}),Object(w.jsx)("input",{className:"h5 pl-3",type:"number",name:"delay",placeholder:"Demora estimada",onChange:R}),Object(w.jsx)("textarea",{className:"my-2 h5 p-3",minLength:"25",maxlength:"140",type:"text",name:"description",placeholder:"Descripcion del producto",onChange:R}),Object(w.jsx)("button",{onClick:function(t){t.preventDefault(),e.addProduct(n,b)},className:"h4",children:"Enviar"})]})}),Object(w.jsx)("div",{className:"row mt-3",children:Object(w.jsxs)("div",{className:"col-sm-12 col-md-8 col-lg-10 d-flex flex-column mx-auto",children:[Object(w.jsx)("span",{className:"h1",children:"Listado de Productos"}),Object(w.jsxs)(ge.a,{striped:!0,bordered:!0,hover:!0,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Title"}),Object(w.jsx)("th",{children:"Category"}),Object(w.jsx)("th",{children:"Description"}),Object(w.jsx)("th",{children:"Delay"}),Object(w.jsx)("th",{children:"Picture"}),Object(w.jsx)("th",{children:"Edit"}),Object(w.jsx)("th",{children:"Delete"})]})}),Object(w.jsx)("tbody",{children:x&&x.map((function(e){return Object(w.jsx)(Ce,{product:e,remove:I},e._id)}))})]})]})}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-sm-12 col-md-8 col-lg-8 mx-auto",children:Object(w.jsx)(Se,{})})})]})]})})})})),Ie={sendReservation:{sendReservation:function(e){var t=e.reservation,c=e.token;return function(){var e=Object(d.a)(u.a.mark((function e(a,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(h,"/reservation"),t,{headers:{Authorization:"Bearer ".concat(c)}});case 2:e.sent.data.success?m.a.fire("Reserva enviada"):m.a.fire("Algo fall\xf3");case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}}.sendReservation},Ue=Object(v.b)((function(e){return{events:e.eventR.events,loggedUser:e.authReducer.loggedUser}}),Ie)((function(e){var t=Object(a.useState)({dia:"",cantidad:""}),c=Object(s.a)(t,2),n=c[0],r=c[1],o=function(e){var t=e.target,c=t.name,a=t.value;r(Object(K.a)(Object(K.a)({},n),{},Object(Q.a)({},c,a)))};return Object(w.jsx)("div",{className:"container-fluid background",children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-2 position-sticky nav-coco",style:{backgroundImage:"url(".concat(C,")")},children:Object(w.jsx)(S,{})}),Object(w.jsxs)("div",{className:"trasparent col-sm-12 col-md-5 col-lg-5 col-xl-5 mx-auto my-auto d-flex flex-column text-center border ",children:[Object(w.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(w.jsx)("h1",{className:"col-12 text-center m-5",children:"Haga su reserva"}),Object(w.jsx)("input",{defaultValue:n.dia,name:"dia",onChange:o,type:"date",className:"col-8 d-block"}),Object(w.jsx)("input",{defaultValue:n.cantidad,name:"cantidad",onChange:o,type:"number",className:"col-8 mt-3"}),Object(w.jsx)("button",{"aria-autocomplete":"false",onClick:function(t){return e.loggedUser?""===n.dia||""===n.cantidad?(m.a.fire("Rellena todos los campos"),!1):(t.preventDefault(),e.sendReservation({reservation:n,token:e.loggedUser.token}),void r({dia:"",cantidad:""})):(m.a.fire("Ingresa a tu cuenta para hacer una reserva"),e.history.push("/login"),!1)},className:"btn btn-primary mt-4 col-6",children:"Reservar"})]}),Object(w.jsx)("div",{children:Object(w.jsxs)(i.b,{to:"/calendar",className:"mt-2 d-flex align-items-center justify-content-center",children:[Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-calendar mb-3 mr-1",viewBox:"0 0 16 16",children:Object(w.jsx)("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"})}),Object(w.jsx)("p",{children:" Ir al calendario"})]})})]})]})})}));var _e={logFromLS:x.logFromLS},Te=Object(v.b)((function(e){return{loggedUser:e.authReducer.loggedUser}}),_e)((function(e){var t,c=Object(a.useState)(!1),n=Object(s.a)(c,2),r=n[0],o=n[1];return e.loggedUser?t="admin"===e.loggedUser.role?Object(w.jsx)(he,{children:Object(w.jsxs)(pe.d,{children:[Object(w.jsx)(pe.b,{exact:!0,path:"/",component:U}),Object(w.jsx)(pe.b,{exact:!0,path:"/reservation",component:Ue}),Object(w.jsx)(pe.b,{exact:!0,path:"/calendar",component:V}),Object(w.jsx)(pe.b,{path:"/cart",component:z}),Object(w.jsx)(pe.b,{path:"/menu",component:ie}),Object(w.jsx)(pe.b,{path:"/contact",component:W}),Object(w.jsx)(pe.b,{path:"/profile",component:le}),Object(w.jsx)(pe.b,{path:"/admin",component:Re}),Object(w.jsx)(pe.a,{to:"/"})]})}):Object(w.jsx)(he,{children:Object(w.jsxs)(pe.d,{children:[Object(w.jsx)(pe.b,{exact:!0,path:"/",component:U}),Object(w.jsx)(pe.b,{exact:!0,path:"/reservation",component:Ue}),Object(w.jsx)(pe.b,{path:"/calendar",component:V}),Object(w.jsx)(pe.b,{path:"/cart",component:z}),Object(w.jsx)(pe.b,{path:"/menu",component:ie}),Object(w.jsx)(pe.b,{path:"/contact",component:W}),Object(w.jsx)(pe.b,{path:"/profile",component:le}),Object(w.jsx)(pe.a,{to:"/"})]})}):localStorage.getItem("token")?e.logFromLS(localStorage.getItem("token")).then((function(e){"/"===e&&o(!r)})):t=Object(w.jsx)(he,{children:Object(w.jsxs)(pe.d,{children:[Object(w.jsx)(pe.b,{exact:!0,path:"/",component:U}),Object(w.jsx)(pe.b,{path:"/calendar",component:V}),Object(w.jsx)(pe.b,{path:"/cart",component:z}),Object(w.jsx)(pe.b,{path:"/menu",component:ie}),Object(w.jsx)(pe.b,{path:"/contact",component:W}),Object(w.jsx)(pe.b,{path:"/login",component:Z}),Object(w.jsx)(pe.b,{path:"/register",component:ce}),Object(w.jsx)(pe.b,{path:"/reservation",component:Ue}),Object(w.jsx)(pe.a,{to:"/"})]})}),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(i.a,{children:t})})})),Ae=c(34),De=c(67),Fe={loggedUser:null,countries:[]};var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_USER":return localStorage.setItem("firstname",t.payload.firstname),localStorage.setItem("urlPic",t.payload.urlPic),localStorage.setItem("token",t.payload.token),localStorage.setItem("role",t.payload.role),Object(K.a)(Object(K.a)({},e),{},{loggedUser:t.payload.response});case"LOG_OUT_USER":return localStorage.removeItem("firstname"),localStorage.removeItem("urlPic"),localStorage.removeItem("token"),localStorage.removeItem("role"),Object(K.a)(Object(K.a)({},e),{},{loggedUser:null});default:return e}},Ve={allProducts:[],allCategories:[]};var Ge={events:[],filter:[]};var Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENT":return Object(K.a)(Object(K.a)({},e),{},{events:e.events.concat(t.payload)});case"GET_EVENTS":return Object(K.a)(Object(K.a)({},e),{},{events:t.payload,filter:t.payload});case"SEARCH_EVENTS":return Object(K.a)(Object(K.a)({},e),{},{filter:e.events.filter((function(e){return e.title.toUpperCase().includes(t.payload.toUpperCase().trim())||e.artist.toUpperCase().includes(t.payload.toUpperCase().trim())||e.user.categoty.toUpperCase().includes(t.payload.toUpperCase().trim())}))});case"DELETE_EVENT":return Object(K.a)(Object(K.a)({},e),{},{events:t.payload});default:return e}},Me={cart:[]};var qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":console.log(t.payload);var c=JSON.stringify(t.payload);return localStorage.setItem("cart",c),Object(K.a)(Object(K.a)({},e),{},{cart:t.payload});case"REMOVE_FROM_CART":var a=JSON.stringify(t.payload);return localStorage.setItem("cart",a),Object(K.a)(Object(K.a)({},e),{},{cart:t.payload});case"CLEAR_CART":return Object(K.a)({},e);case"ADD_FROM_LS":return Object(K.a)(Object(K.a)({},e),{},{cart:t.payload});case"MODIFY_QTY":var n=JSON.stringify(t.payload);return localStorage.setItem("cart",n),Object(K.a)(Object(K.a)({},e),{},{cart:t.payload});case"CONFIRM_PURCHASE":return localStorage.removeItem("cart"),Object(K.a)(Object(K.a)({},e),{},{cart:[]});case"GET_CART":return Object(K.a)(Object(K.a)({},e),{},{cart:Object(B.a)(e.cart)});default:return e}},He=Object(Ae.c)({eventReducer:Be,authReducer:Le,cartReducer:qe,productR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(K.a)(Object(K.a)({},e),{},{allProducts:t.payload});case"RERENDER":return Object(K.a)(Object(K.a)({},e),{},{allProducts:e.allProducts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case"ALL_CATEGORIES":return Object(K.a)(Object(K.a)({},e),{},{allCategories:t.payload});case"EDIT_SUBCATEGORY":return console.log(t.payload),Object(K.a)(Object(K.a)({},e),{},{allProducts:e.allProducts.map((function(e){return e._id===t.payload.response._id?t.payload.response:e}))});case"DELETE_SUB":case"ADD_SUBCATEGORY":return Object(K.a)(Object(K.a)({},e),{},{allProducts:e.allProducts.map((function(e){return e._id===t.payload.response._id?t.payload.response:e}))});default:return e}},eventR:Be}),ze=Object(Ae.d)(He,Object(Ae.a)(De.a));O.a.initializeApp({apiKey:"AIzaSyCh_2wXwWjDBtutpYaJoq7w3NqF2JnMdAE",authDomain:"cocoliche-306717.firebaseapp.com",projectId:"cocoliche-306717",storageBucket:"cocoliche-306717.appspot.com",messagingSenderId:"444514934040",appId:"1:444514934040:web:a4e707f518d46fb0eb926d",measurementId:"G-KRETDG744D"}),o.a.render(Object(w.jsx)(v.a,{store:ze,children:Object(w.jsx)(Te,{})}),document.getElementById("root"))},59:function(e,t,c){}},[[107,1,2]]]);
//# sourceMappingURL=main.72b2a97b.chunk.js.map